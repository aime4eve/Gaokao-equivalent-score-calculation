# 高考志愿填报助手

## 简介

本项目是一个基于命令行的 Python 工具，旨在帮助高考考生（特别是历史类考生）根据预估的2025年高考分数，分析往年（2023、2024）的等效分数，并预测在不同高校和专业组的录取概率。

该工具的核心逻辑是基于官方公布的一分一段表数据和高校历年录取数据，通过两种不同的位次换算算法，为考生提供数据参考。

## 主要功能

1.  **单点分数查询**:
    *   输入一个2025年的预估分数，程序会计算出其在2024年和2023年的等效分数。
    *   同时提供两种算法的结果："新方法"（基于竞争位置百分比）和"旧方法"（基于绝对位次），供对比参考。

2.  **区间分数分析**:
    *   输入一个中心分数和范围，程序会批量分析该分数区间内每个分数的等效分数。
    *   结果以表格形式清晰展示，方便用户查看分数波动带来的影响。

3.  **录取概率预测**:
    *   输入2025年分数后，程序会获取对应位次。
    *   用户可以选择感兴趣的大学和专业组。
    *   程序会根据2024年的专业录取最低分/最低位次和录取人数，结合您的位次，使用一个精确的概率模型（S-Curve/Sigmoid函数）来计算每个专业的录取可能性。
    *   结果分为"极高"、"较高"、"有希望"、"边缘"、"较低"、"极低"等多个等级，并提供具体的参考概率值（%）。

## 数据来源

本工具依赖以下几个核心数据文件：

*   `3年高考位次.csv`: 包含2023、2024和（模拟的）2025年的一分一段表数据。
*   `3年高考人数变化与高校计划招生变化.csv`: 包含历年高考总人数和计划招生人数，用于"新方法"的等效分数计算。
*   `历年高校录取情况.csv`: 包含各高校专业组在2024年的录取分数、位次和人数等详细信息。

**注意**: 请确保以上 `.csv` 文件与主程序 `score_analyzer.py` 或打包后的可执行文件位于同一目录下。

## 如何使用

### 环境要求

*   Python 3.x
*   Pandas
*   Numpy
*   Rich

可以通过以下命令安装所需依赖：

```bash
pip install pandas numpy rich
```

### 运行程序

直接在终端中运行 Python 脚本：

```bash
python score_analyzer.py
```

程序启动后，会提示您选择分析模式（1, 2, 或 3）。根据提示输入相应数字并按回车即可进入不同功能模块。在任何子菜单中，通常可以输入 `back` 返回主菜单。

## 算法简述

### 等效分数计算

*   **旧方法 (基于绝对位次)**: 直接使用您在2025年的位次，去往年的一分一段表中寻找最接近该位次的分数。这种方法简单直接，但没有考虑每年考生总数和招生计划的变化。
*   **新方法 (基于竞争位置百分比)**: 此方法更为科学。它首先计算您的位次在当年考生中的相对位置（`位次 / 计划招生总数`），然后用这个百分比去乘以目标年份的计划招生总数，得到一个"等效位次"，再根据此等效位次查找目标年份的对应分数。该方法能更好地反映不同年份间的竞争压力变化。

### 录取概率模型

本工具不采用简单的"位次领先就冲"的粗略判断。而是引入了一个基于S型曲线（Sigmoid函数）的概率模型。该模型将您的位次与目标专业2024年最低录取位次的差距，以及该专业的录取人数作为输入，输出一个平滑的、范围在 0% 到 100% 之间的概率值。

核心公式为 `P = 1 / (1 + exp(-k * x))`，其中：
*   `x` 是您的位次领先于最低录取位次的幅度（以录取人数为单位标准化）。
*   `k` 是一个调整系数，用于控制概率曲线的陡峭程度，使结果更具区分度。

这使得录取概率的评估更为精细和人性化。

## 打包为可执行文件

如果您希望在没有Python环境的电脑上运行本工具，可以使用 PyInstaller 进行打包。

1.  安装 PyInstaller:
    ```bash
    pip install pyinstaller
    ```
2.  在项目根目录下运行打包命令：
    ```bash
    pyinstaller --onefile --add-data "3年高考人数变化与高校计划招生变化.csv;." --add-data "3年高考位次.csv;." --add-data "历年高校录取情况.csv;." score_analyzer.py -n 志愿填报助手
    ```
    *   `--onefile`: 将所有内容打包成一个 `.exe` 文件。
    *   `--add-data`: 将 `csv` 数据文件包含到包中。格式为 `"源文件;目标目录"`，`.` 表示根目录。
    *   `-n`: 指定生成的可执行文件名。

3.  打包成功后，可在 `dist` 文件夹中找到 `志愿填报助手.exe`。 
